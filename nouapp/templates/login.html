{% extends 'parent.html' %}
{% load static %}
{% block body %}
<!-- Start Of Login Form-->
<div class="row mt-2">
  <div class="col-12 d-flex justify-content-center align-items-center" style="min-height: calc(100vh - 140px);">
    <script>
      function validate() {
        var userid = document.getElementById("userid");
        var password = document.getElementById("password");
        if (userid.value == "" || userid.value == null) {
          alert("Please enter userid");
          userid.focus();
        } else if (password.value == "" || password.value == null) {
          alert("Please enter password");
          password.focus();
        } else {
          document.getElementById("frmlogin").submit();
        }
      }
    </script>

    {% if messages %}
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>{{message}}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
    {% endif %}

    <form
      action="{% url 'nouapp:login' %}"
      id="frmlogin"
      onsubmit="event.preventDefault();validate();"
      method="post"
    >
      {% csrf_token %}
      <div
        class="div"
        style="
          background-color: aliceblue;
          width: 400px;
          max-width: 90%;
          box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.6);
          border-radius: 10px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: flex-start;
          padding: 30px 20px;
        "
      >
        <h1
          style="
            color: rgb(6, 6, 106);
            font-family: Poppins, sans-serif;
            font-weight: bold;
            margin-bottom: 20px;
          "
        >
          LOG IN
        </h1>

        <input
          type="text"
          name="userid"
          placeholder="Enter User Id"
          id="userid"
          style="
            box-shadow: 0px 0px 3px gray;
            border-radius: 5px;
            height: 40px;
            width: 100%;
            margin-bottom: 15px;
            border: none;
            padding: 6px 10px;
          "
        />

        <input
          type="password"
          name="password"
          placeholder="Enter Password"
          id="password"
          style="
            box-shadow: 0px 0px 3px gray;
            border-radius: 5px;
            height: 40px;
            width: 100%;
            margin-bottom: 15px;
            border: none;
            padding: 6px 10px;
          "
        />

        <select
          name="usertype"
          style="
            box-shadow: 0px 0px 3px gray;
            border-radius: 5px;
            height: 40px;
            width: 100%;
            margin-bottom: 15px;
            border: none;
            text-align: center;
            color: rgb(6, 6, 106);
            padding: 6px 10px;
          "
        >
          <option selected>--Select User Type--</option>
          <option value="student">Student</option>
          <option value="admin">Admin</option>
        </select>

        <button
          type="submit"
          class="btn btn-primary"
          style="width: 100%; height: 40px; margin-bottom: 15px;"
        >
          Login
        </button>

        <p style="font-size: 14px; text-align: center; margin: 0;">
          Don't have an account?
          <a href="{% url 'nouapp:registration' %}"><u>Registration here</u></a>
        </p>
      </div>
    </form>
  </div>
</div>
<!-- End Of Login Form-->

<!-- Responsive styles -->
<style>
  /* For tablets and below */
  @media (max-width: 768px) {
    .div {
      width: 90% !important;
      max-width: 400px !important;
      height: auto !important;
      margin: 50px auto !important;
      padding: 15px !important;
    }
    .div input,
    .div select,
    .div button {
      width: 100% !important;
      display: block;
    }
    .div h1 {
      text-align: center !important;
    }
  }

  /* For very small phones */
  @media (max-width: 480px) {
    .div {
      margin-top: 20px !important;
      padding: 10px !important;
    }
    .div h1 {
      font-size: 1.5rem !important;
    }
  }
</style>

{% endblock body %}
